<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitco93 Pro</title>
    <style>
        /* Ø¬Ù…ÙŠØ¹ CSS Ø§Ù„Ø³Ø§Ø¨Ù‚ ÙŠØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡Ùˆ */
        /* ... */
    </style>
</head>
<body>

<!-- Ù†ÙØ³ HTML Ø§Ù„Ø³Ø§Ø¨Ù‚ ÙŠØ¨Ù‚Ù‰ ÙƒÙ…Ø§ Ù‡Ùˆ -->
<!-- ... -->

<script>
// ========== Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ==========
let score = parseInt(localStorage.getItem('score')) || 0;
let energy = parseInt(localStorage.getItem('energy')) || 130;
let refCount = parseInt(localStorage.getItem('refCount')) || 0;

// ========== Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© ==========
window.onload = function() {
    console.log("âœ… Ø§Ù„ØµÙØ­Ø© Ù…Ø­Ù…Ù„Ø©");
    
    // 1. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶ Ø£ÙˆÙ„Ø§Ù‹
    updateUI();
    
    // 2. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø®Ø§Ù†Ø§Øª
    initNavigation();
    
    // 3. Ø±Ø¨Ø· Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„Ø©
    initTapCoin();
    
    // 4. Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸
    createWheel();
    
    // 5. Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨
    setTimeout(() => {
        document.getElementById('welcome').style.display = 'none';
    }, 2000);
    
    // 6. Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø·Ø§Ù‚Ø©
    setInterval(() => {
        if (energy < 130) {
            energy++;
            localStorage.setItem('energy', energy);
            updateBattery();
        }
    }, 3000);
};

// ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ ==========
function initTapCoin() {
    console.log("ğŸ”§ Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ø²Ø± Ø§Ù„Ù†Ù‚Ø±...");
    
    const tapCoin = document.getElementById('tapCoin');
    
    if (!tapCoin) {
        console.error("âŒ Ø²Ø± Ø§Ù„Ù†Ù‚Ø± ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!");
        return;
    }
    
    // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø£Ø­Ø¯Ø§Ø« Ø³Ø§Ø¨Ù‚Ø©
    tapCoin.onclick = null;
    
    // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ø¬Ø¯ÙŠØ¯
    tapCoin.addEventListener('click', function(e) {
        console.log("ğŸ–±ï¸ ØªÙ… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„Ø©");
        
        if (energy > 0) {
            // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù†Ù‚Ø§Ø·
            score++;
            energy--;
            
            console.log(`ğŸ“Š Ø§Ù„Ù†Ù‚Ø§Ø·: ${score}, Ø§Ù„Ø·Ø§Ù‚Ø©: ${energy}`);
            
            // Ø­ÙØ¸ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
            localStorage.setItem('score', score);
            localStorage.setItem('energy', energy);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            updateUI();
            
            // ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù†Ù‚Ø±
            createTapEffect(e);
            playTapSound();
            
            // Ø§Ù‡ØªØ²Ø§Ø² Ø§Ù„Ø²Ø±
            tapCoin.style.transform = 'scale(0.85)';
            setTimeout(() => {
                tapCoin.style.transform = 'scale(1)';
            }, 100);
        } else {
            showNotification('âš¡ Ø§Ù„Ø·Ø§Ù‚Ø© Ù†ÙØ°Øª! Ø§Ù†ØªØ¸Ø± Ù„Ø§Ø³ØªØ¹Ø§Ø¯ØªÙ‡Ø§');
            console.log("âš ï¸ Ø§Ù„Ø·Ø§Ù‚Ø© Ù†ÙØ°Øª");
        }
    });
    
    console.log("âœ… ØªÙ… Ø±Ø¨Ø· Ø­Ø¯Ø« Ø§Ù„Ù†Ù‚Ø± Ø¨Ù†Ø¬Ø§Ø­");
}

// ========== ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ==========
function updateUI() {
    console.log("ğŸ”„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©...");
    
    // 1. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø·
    const scoreElement = document.getElementById('score');
    if (scoreElement) {
        scoreElement.textContent = score;
        console.log(`ğŸ¯ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø­Ø¯Ø«Ø©: ${score}`);
    }
    
    // 2. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ø§Ù‚Ø©
    const energyElement = document.getElementById('energy');
    if (energyElement) {
        energyElement.textContent = energy;
    }
    
    // 3. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©
    updateBattery();
    
    // 4. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª
    const refElement = document.getElementById('refCount');
    if (refElement) {
        refElement.textContent = refCount;
    }
    
    // 5. ØªØ­Ø¯ÙŠØ« Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø¹Ø¬Ù„Ø©
    const spinsElement = document.getElementById('spinsLeft');
    if (spinsElement) {
        spinsElement.textContent = refCount;
    }
    
    // 6. ØªØ­Ø¯ÙŠØ« Ø²Ø± Ø§Ù„Ø¹Ø¬Ù„Ø©
    const spinBtn = document.getElementById('spinBtn');
    if (spinBtn) {
        spinBtn.disabled = refCount <= 0;
        spinBtn.innerHTML = `ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø¹Ø¬Ù„Ø© (Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª: <span id="spinsLeft">${refCount}</span>)`;
    }
}

// ========== Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ù‚Ù„ (Ù…ÙØµÙ„Ø­) ==========
function initNavigation() {
    console.log("ğŸ“ ØªÙ‡ÙŠØ¦Ø© Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ù‚Ù„...");
    
    const navButtons = document.querySelectorAll('.nav-btn');
    const tabContents = document.querySelectorAll('.tab-content');
    
    navButtons.forEach(btn => {
        // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø£Ø­Ø¯Ø§Ø« Ø³Ø§Ø¨Ù‚Ø©
        btn.onclick = null;
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø­Ø¯Ø« Ø§Ù„Ø¬Ø¯ÙŠØ¯
        btn.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            const tabId = this.getAttribute('data-tab');
            console.log(`ğŸ”„ Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰: ${tabId}`);
            
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø§Ù†Ø§Øª
            tabContents.forEach(tab => {
                tab.style.display = 'none';
                tab.classList.remove('active');
            });
            
            // Ø¥Ù„ØºØ§Ø¡ ØªÙØ¹ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            navButtons.forEach(navBtn => {
                navBtn.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø®Ø§Ù†Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
            const targetTab = document.getElementById(tabId);
            if (targetTab) {
                targetTab.style.display = 'block';
                targetTab.classList.add('active');
                console.log(`âœ… ØªÙ… Ø¹Ø±Ø¶: ${tabId}`);
            } else {
                console.error(`âŒ Ø§Ù„Ø®Ø§Ù†Ø© ${tabId} ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©`);
            }
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø±
            this.classList.add('active');
        });
    });
    
    // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø®Ø§Ù†Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹
    if (navButtons[0]) {
        navButtons[0].click();
    }
}

// ========== Ø¯Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ==========
function updateBattery() {
    const batteryFill = document.getElementById('batteryFill');
    if (batteryFill) {
        const percent = (energy / 130) * 100;
        batteryFill.style.width = percent + '%';
    }
}

function createTapEffect(e) {
    const effect = document.createElement('div');
    effect.className = 'tap-effect';
    effect.style.left = (e.clientX - 25) + 'px';
    effect.style.top = (e.clientY - 25) + 'px';
    document.body.appendChild(effect);
    setTimeout(() => effect.remove(), 800);
}

function playTapSound() {
    try {
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);
        
        oscillator.frequency.value = 800;
        oscillator.type = 'sine';
        
        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
        
        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.1);
    } catch (e) {
        console.log("ğŸ”‡ Ø§Ù„ØµÙˆØª ØºÙŠØ± Ù…ØªÙˆÙØ±");
    }
}

function showNotification(message) {
    const notification = document.getElementById('notification');
    if (notification) {
        notification.textContent = message;
        notification.classList.add('show');
        
        setTimeout(() => {
            notification.classList.remove('show');
        }, 3000);
    }
}

// ========== Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ ==========
function createWheel() {
    const wheel = document.getElementById('wheel');
    if (!wheel) return;
    
    wheel.innerHTML = '';
    const rewards = [50, 20, 10, 5, 0, 100, 75, 80];
    
    for (let i = 0; i < 8; i++) {
        const segment = document.createElement('div');
        segment.className = 'wheel-number';
        segment.style.transform = `translateX(-50%) rotate(${i * 45}deg)`;
        segment.style.transformOrigin = 'center 140px';
        segment.textContent = rewards[i];
        wheel.appendChild(segment);
    }
}

function startSpin() {
    if (refCount <= 0) {
        showNotification('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ù…ØªØ¨Ù‚ÙŠØ©');
        return;
    }
    
    const wheel = document.getElementById('wheel');
    const spinBtn = document.getElementById('spinBtn');
    
    if (!wheel || !spinBtn) return;
    
    // Ø®ØµÙ… Ù…Ø­Ø§ÙˆÙ„Ø©
    refCount--;
    localStorage.setItem('refCount', refCount);
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
    updateUI();
    
    // ØªØ¯ÙˆÙŠØ± Ø§Ù„Ø¹Ø¬Ù„Ø©
    const totalDegrees = 1440 + (Math.floor(Math.random() * 8) * 45);
    wheel.style.transition = 'transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99)';
    wheel.style.transform = `rotate(${totalDegrees}deg)`;
    
    spinBtn.disabled = true;
    
    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¬Ø§Ø¦Ø²Ø©
    setTimeout(() => {
        const normalizedDeg = totalDegrees % 360;
        const segmentIndex = Math.floor((360 - normalizedDeg) / 45) % 8;
        const rewards = [50, 20, 10, 5, 0, 100, 75, 80];
        const reward = rewards[segmentIndex];
        
        if (reward > 0) {
            score += reward;
            localStorage.setItem('score', score);
            showNotification(`ğŸ‰ Ø±Ø¨Ø­Øª ${reward} Ù†Ù‚Ø·Ø©!`);
        } else {
            showNotification('ğŸ˜¢ Ù„Ù… ØªØ±Ø¨Ø­ Ø´ÙŠØ¦Ø§Ù‹ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø©');
        }
        
        updateUI();
        spinBtn.disabled = refCount <= 0;
    }, 4000);
}

// ========== Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø± ==========
function playGame(gameId) {
    const scores = JSON.parse(localStorage.getItem('gameScores')) || [0, 0, 0, 0];
    scores[gameId - 1] += Math.floor(Math.random() * 5) + 3;
    localStorage.setItem('gameScores', JSON.stringify(scores));
    
    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
    const scoreElement = document.getElementById(`game${gameId}Score`);
    if (scoreElement) {
        scoreElement.textContent = scores[gameId - 1];
    }
    
    // ØªØ£Ø«ÙŠØ±
    const btn = event.target;
    btn.style.transform = 'scale(0.9)';
    setTimeout(() => {
        btn.style.transform = 'scale(1)';
    }, 100);
}

// ========== Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ ==========
function copyRefLink() {
    const link = "https://t.me/Bitco93_bot?start=ref_" + Date.now();
    navigator.clipboard.writeText(link).then(() => {
        showNotification('âœ… ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ø¯Ø¹ÙˆØ©');
    });
}

// ========== Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹ ==========
// Ø§ÙØªØ­ console ÙˆØ§Ø¶ØºØ· F12 Ø«Ù… Ø§ÙƒØªØ¨:
// testBot()
function testBot() {
    console.log("ğŸ§ª Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨ÙˆØª...");
    console.log("1. Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø­Ø§Ù„ÙŠØ©:", score);
    console.log("2. Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©:", energy);
    console.log("3. Ø§Ù„Ø¥Ø­Ø§Ù„Ø§Øª:", refCount);
    console.log("4. Ø²Ø± Ø§Ù„Ù†Ù‚Ø±:", document.getElementById('tapCoin') ? "âœ… Ù…ÙˆØ¬ÙˆØ¯" : "âŒ Ù…ÙÙ‚ÙˆØ¯");
    console.log("5. Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„:", document.querySelectorAll('.nav-btn').length, "Ø²Ø±");
    console.log("6. Ø§Ù„Ø®Ø§Ù†Ø§Øª:", document.querySelectorAll('.tab-content').length, "Ø®Ø§Ù†Ø©");
    
    // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ù‚Ø±
    if (document.getElementById('tapCoin')) {
        console.log("âœ… Ø§Ù„Ø¨ÙˆØª Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±!");
        console.log("ğŸ” Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„Ø© Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ù‚Ø±");
    } else {
        console.error("âŒ Ù‡Ù†Ø§Ùƒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ±ÙƒÙŠØ¨");
    }
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
setTimeout(() => {
    testBot();
}, 1000);
</script>
</body>
</html>
